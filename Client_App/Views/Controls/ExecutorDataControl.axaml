<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="Client_App.Controls.ExecutorDataControl"
			 x:Name="ExecutorDataControl">
	<StackPanel>
		
		<Grid Margin="5" RowDefinitions ="*,*,*,*,*" ColumnDefinitions="*,2*">
			<TextBlock Grid.Row="0"
					   Grid.Column="0"
					   Margin="5"
					   Text="ФИО исполнителя:"/>
			<TextBox Grid.Row="0"
					 Grid.Column="1"
					 Margin="5"
					 Text="{Binding FIO}"/>
			<TextBlock Grid.Row="1"
					   Grid.Column="0"
					   Margin="5"
					   Text="Должность:"/>
			<TextBox Grid.Row="1"
					 Grid.Column="1"
					 Margin="5"
					Text="{Binding Grade}"/>
			<TextBlock Grid.Row="2"
					   Grid.Column="0"
					   Margin="5"
					   Text="Телефон:"/>
			<TextBox Grid.Row="2"
					 Grid.Column="1"
					 Margin="5"
					 Text="{Binding Phone}"/>
			<TextBlock Grid.Row="3"
					   Grid.Column="0"
					   Margin="5"
					   Text="Электронная почта:"/>
			<TextBox Grid.Row="3"
					 Grid.Column="1"
					 Margin="5"
					 Text="{Binding Email}"/>
			<Button Grid.Row="4"
					Grid.Column="0"
					Margin="5"
					Content="Сохранить шаблон исполнителя"
					Command="{Binding AddExecutor}"/>
			<Button x:Name="LoadButton"
					Grid.Row="4"
					Grid.Column="1"
					Margin="5"
					Content="Загрузить шаблон исполнителя"
					Command="{Binding OpenPopupCommand}"/>
		</Grid>
		<Popup IsOpen="{Binding PopupIsOpen, Mode=TwoWay}" 
			x:Name="ExecutorsPopup"
			PlacementTarget="{Binding #LoadButton}"
			PlacementMode="Right"
			IsLightDismissEnabled="True">
			<Border Background="White"
					BorderBrush="Gray"
					BorderThickness="1"
					CornerRadius="4"
					Padding="10">
				<StackPanel>
					<TextBlock Text="Выбор исполнителя"/>
					<ListBox x:Name="ExecutorsListBox" 
							 Items="{Binding ExecutorList}"
							 SelectionMode="Single">
						<ListBox.ItemTemplate>
							<DataTemplate >
								<Grid ColumnDefinitions="*,Auto" RowDefinitions="20,20,20,20" >
									<TextBlock Grid.Column="0" Grid.Row="0" Text="{Binding FIOexecutor}"/>
									<TextBlock Grid.Column="0" Grid.Row="1" Text="{Binding GradeExecutor}"/>
									<TextBlock Grid.Column="0" Grid.Row="2" Text="{Binding ExecPhone}"/>
									<TextBlock Grid.Column="0" Grid.Row="3" Text="{Binding ExecEmail}"/>
									<Button  
										Grid.Column="1" Grid.Row="0" Grid.RowSpan="4" 
											Height="80" Width="50" 
											Content="X"/>
								</Grid>
							</DataTemplate>
						</ListBox.ItemTemplate>
					</ListBox>
				</StackPanel>
			</Border>		
		</Popup>
	</StackPanel>
</UserControl>
